#!/usr/bin/env ruby -w
# encoding: UTF-8
class C数据采集器
  def 初始化(*参数范围数组, &块)
    参数范围数组.替换{|参数范围| 参数范围.是?(R数组)? 参数范围 : 参数范围.数组化}
    if 参数范围数组.数量 == 1
      参数范围数组[0].每个 do |参数|
        执行块(参数.数组化, 块)
      end
    else
      参数范围 = 参数范围数组.shift
      参数范围.product(*参数范围数组) do |参数数组|
        执行块(参数数组, 块)
      end
    end
  end
  def 执行块(参数数组, 块)
    结果 = 块[*参数数组]
    输出 "#{参数数组.字符串} => #{结果.字符串}"
  end
end